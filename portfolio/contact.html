<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contáctame - Mi portfolio</title>
 
    <!--Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/responsive.css">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-973G9KVN2S"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-973G9KVN2S');
</script>
</head>

<body class="contact">
    <div class="curtain"></div>

    <!--Header--> 
    <header class="main-header">
        <div class="logo"><a href="index.html">Esto es<br>mi portfolio</a></div>
        <nav class="main-nav">
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="proyectos.html">Proyectos</a></li>
                <li><a href="about.html">Conóceme</a></li>
                <li><a href="contact.html">Contáctame</a></li>
            </ul>
        </nav>
    </header>
    
    <!--Information-->
    <div class="info-image">
        
        <div class="contact-info">
            <div class="apartado-contact">
                <p class="category-contact">Localización</p>
                <p class="info-contact">Granollers<br>Barcelona</p>
            </div>

            <div class="apartado-contact">
                <p class="category-contact">Mail</p>
                <p class="info-contact">arnopuig.m@gmail.com</p>
            </div>

            <div class="apartado-contact">
                <p class="category-contact">Sígueme</p>
                <p class="info-contact">Iconos redes sociales</p>
            </div>
        </div>

        <div class="image-info">
            <img src="img/mobil.jpg" alt="mobil">
        </div>
    </div>

    <!--Forms-->
    <section class="contactame-form">
        <div class="text-form">
            <h1>Contáctame</h1>
            <p>Si estás buscando a alguien con ganas, creatividad y buena energía, ¡estoy aquí!
            <br>
            <br>
            Mándame un mensaje para concertar una entrevista. Prometo que será una conversación amena, sin formalidades excesivas ni discursos previsibles. Solo ganas de conocernos y ver cómo puedo aportar al equipo.
            <br>
            <br>   
            ¡Espero tu mensaje, hablemos pronto!</p>
        </div>

        </div class="formulario">
            <form class="form" action="contactar">

                <div>
                    <label>Tu nombre*</label>
                    <input id="nombre" class="text" type="text">
                    <span id="nameerror"></span>
                </div>

                <div>
                    <label>Tu mail*</label>
                    <input class="text" type="email" name="mail" id="email">
                    <span id="mailerror"></span>
                </div>
                
                <div>
                    <label for="comentario">Escribe un comentario*</label>
                    <textarea id="comentario" class="comentario" name="comentario" id="comentario"></textarea>
                </div>

                <div>
                    <input id="enviarform" class="button" type="submit" name="submit" value="Enviar formulario  &#x2192;">
                </div>

            </form>
        </div>
    </section>
        

   <!--Footer-->
   <footer class="main-footer">
    <div>
        <div class="logo"><a href="index.html">Esto es<br>mi portfolio<br>&copy; 2024</a></div>
    </div>
    <nav>
        <ul>
            <li><a href="#">Nota legal</a></li>
            <li><a href="#">Cookies</a></li>
        </ul>
    </nav>
</footer>


<!--Javascript-->
<script> 
    document.addEventListener('DOMContentLoaded', function () {
    
    const text = document.querySelector('.text');
    const name = document.querySelector('#nombre');
    const nameError = document.querySelector('#nameerror');
    const mail = document.querySelector('#email');
    const mailError = document.querySelector('#mailerror');
    const coment = document.querySelector('#comentario');
    const enviarForm = document.querySelector('#enviarform');
    const formulario = document.querySelector('.form');


    // Resuelto con tutorial YOUTUBE
    //* Asignar evento
    name.addEventListener('blur', validar);
    mail.addEventListener('blur', validar);
    coment.addEventListener('blur', validar);


    function validar (e) {
        if (e.target.value.trim() === '') {
            mostrarAlerta(`El ${e.target.id} es obligatorio`, e.target.parentElement);
            return;
        } 

        if (e.target.id === 'email' && !validarEmail(e.target.value)) {
            mostrarAlerta('El email no es válido', e.target.parentElement);
            return;
        }

        limpiarAlerta(e.target.parentElement);
    }


    function mostrarAlerta(mensaje, referencia) {
        limpiarAlerta(referencia);
        /* const alerta = referencia.querySelector('.texterror');
        if (alerta) {
            alerta.remove();
        } */

        const error = document.createElement('P');
        error.textContent = mensaje;
        error.classList.add('texterror');

        referencia.appendChild(error);
    }


    function limpiarAlerta(referencia) {
        // Comprobamos si ya existe una alerta
        const alerta = referencia.querySelector('.texterror');
        if (alerta) {
            alerta.remove();
        }
    }


    function validarEmail(mail){
        const validar =  /^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/;
        const resultado = validar.test(mail);
        return resultado;
    }

    });
</script>



<!--JQuerys + Lodash + Chart.js-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>



</body>
</html>
